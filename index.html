<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>検察パズルゲーム - 組立</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- タイトル画面 -->
    <div id="title-screen" class="title-screen">
        <div class="title-content">
            <h1 class="game-title">🧩 検察パズル組立ゲーム</h1>
            <div class="game-description">
                <h2>ゲームの説明</h2>
                <div class="rules">
                    <div class="rule-item">
                        <span class="rule-icon">📋</span>
                        <p><strong>目的:</strong> 右側の証拠ピースを左側の枠に正しく配置して事件を立証する</p>
                    </div>
                    <div class="rule-item">
                        <span class="rule-icon">⏱️</span>
                        <p><strong>制限時間:</strong> 各パズル30秒以内に判断</p>
                    </div>
                    <div class="rule-item">
                        <span class="rule-icon">✅</span>
                        <p><strong>公判請求:</strong> すべてのピースを正しく配置すると自動的に成功</p>
                    </div>
                    <div class="rule-item">
                        <span class="rule-icon">❌</span>
                        <p><strong>不起訴:</strong> 証拠が揃わないと判断したらボタンを押す（最低10秒は捜査必須）</p>
                    </div>
                    <div class="rule-item">
                        <span class="rule-icon">🔍</span>
                        <p><strong>補充捜査:</strong> 未使用のピースをランダムに変更できる</p>
                    </div>
                    <div class="rule-item">
                        <span class="rule-icon">⚠️</span>
                        <p><strong>ゲームオーバー条件:</strong></p>
                        <ul>
                            <li>時間切れ</li>
                            <li>10秒未満で不起訴を選択</li>
                            <li>配置可能なピースがあるのに不起訴</li>
                        </ul>
                    </div>
                </div>
            </div>
            <button id="start-btn" class="btn btn-start">ゲームスタート</button>
        </div>
    </div>

    <div class="container" id="game-container" style="display: none;">
        <header>
            <h1>🧩 検察パズル組立ゲーム</h1>
            <div class="info-bar">
                <div class="timer">
                    <span>残り時間: </span>
                    <span id="timer">00:00.0</span>
                </div>
                <div class="score">
                    <span>スコア: </span>
                    <span id="score">0</span>
                </div>
                <div class="stage">
                    <span>ステージ: </span>
                    <span id="stage">1</span>
                </div>
            </div>
        </header>

        <main class="game-area">
            <!-- 左側: 配置エリア -->
            <div class="left-panel">
                <h2>配置エリア</h2>
                <div id="placement-area" class="placement-grid"></div>
                <div class="action-buttons">
                    <button id="investigate-btn" class="btn btn-investigate">🔍 補充捜査</button>
                    <button id="dismiss-btn" class="btn btn-dismiss">❌ 不起訴</button>
                </div>
            </div>

            <!-- 右側: ピースエリア -->
            <div class="right-panel">
                <h2>利用可能なピース（4×3スロット）</h2>
                <div id="pieces-area" class="pieces-container right-grid"></div>
            </div>
        </main>

        <!-- モーダル -->
        <div id="result-modal" class="modal hidden">
            <div class="modal-content">
                <h2 id="result-title"></h2>
                <p id="result-message"></p>
                <p id="result-time"></p>
                <button id="next-btn" class="btn btn-next">次のステージへ</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
